<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>EscÃ¡ner + Generador CÃ³digos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Estilos -->
    <link rel="stylesheet" href="estilo.css">

    <!-- LibrerÃ­as externas -->
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>
</head>
<body>
    <h1>ğŸ–¥ï¸ EscÃ¡ner LEDdecodigodebarras</h1>

    <!-- ESCÃNER -->
    <div id="reader"></div>
    <button id="btnStart">ğŸ“± Iniciar EscÃ¡ner</button>
    <button id="btnStop" class="danger">â¹ï¸ Detener</button>

    <!-- RESULTADO ESCÃNER -->
    <div id="result" style="display:none;">
        <h2>âœ… CÃ³digo Escaneado:</h2>
        <p id="code"></p>

        <button id="btnCopyCode">ğŸ“‹ Copiar</button>
        <button id="btnSendAPI">ğŸ“¤ Enviar a API</button>

        <div id="shareButtons">
            <h3>ğŸ”— Compartir cÃ³digo</h3>
            <button id="btnShareNative">ğŸ“¤ Compartir (mÃ³vil)</button>
            <button id="btnShareWhatsApp">ğŸŸ¢ WhatsApp</button>
            <button id="btnShareTelegram">ğŸ”µ Telegram</button>
            <button id="btnDownloadTxt">â¬‡ï¸ Descargar .txt</button>
            <button id="btnShareImage">ğŸ–¼ï¸ Compartir imagen</button>
        </div>
    </div>

    <!-- GENERADOR -->
    <div id="generator">
        <h2>â• Crear CÃ³digo de Barras</h2>
        <input type="text" id="codigoInput" placeholder="Escribe cÃ³digo (ej: 1234567890123)" maxlength="40">
        <br>
        <button id="btnGenBarcode">ğŸ“Š Generar CÃ³digo Barras</button>
        <button id="btnGenQR">ğŸ“± Generar QR</button>

        <canvas id="barcodeCanvas" width="300" height="100" style="display:none;"></canvas>
        <canvas id="qrCanvas" width="200" height="200" style="display:none;"></canvas>
        <br>
        <button id="btnAddExcel" style="display:none;">ğŸ“Š Agregar a Excel</button>
        <button id="btnDownloadPng">â¬‡ï¸ Descargar PNG</button>
        <button id="btnDownloadJpg">â¬‡ï¸ Descargar JPG</button>
    </div>

    <!-- EXCEL -->
    <div id="excelSection" style="display:none;">
        <h2>ğŸ“‹ Lista para Excel / Google Sheets</h2>
        <button id="btnDownloadExcel">ğŸ’¾ Descargar Excel</button>
        <button id="btnCopyExcel">ğŸ“‹ Copiar TSV</button>
        <div id="excelPreview"></div>
    </div>

    <!-- LÃ³gica JS -->
    <script src="script.js"></script>
</body>
</html>
